# ü§ù Deals Domain - –î–æ–º–µ–Ω —Å–¥–µ–ª–æ–∫

–≠—Ç–æ—Ç –¥–æ–º–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–¥–µ–ª–∫–∞–º–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### `/components/` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–¥–µ–ª–æ–∫
- **cards/** - –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–¥–µ–ª–æ–∫
  - `DealCard.vue` - –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–¥–µ–ª–∫–∏ –≤ —Å–ø–∏—Å–∫–µ
  - `DealDetails.vue` - –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–¥–µ–ª–∫–∏
  
- **forms/** - –§–æ—Ä–º—ã —Å–¥–µ–ª–æ–∫
  - `DealCreateForm.vue` - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏
  - `DealUpdateForm.vue` - –§–æ—Ä–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–π —Å–¥–µ–ª–∫–∏
  
- **modals/** - –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  - `DealCreateModal.vue` - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–¥–µ–ª–∫–∏
  - `DealStatusModal.vue` - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
  - `DealDocumentsModal.vue` - –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–¥–µ–ª–∫–∏
  
- **status/** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤
  - `DealStatusBadge.vue` - –ë–µ–π–¥–∂ —Å—Ç–∞—Ç—É—Å–∞ —Å–¥–µ–ª–∫–∏
  - `StatusTimeline.vue` - –í—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤

### `/composables/` - –ö–æ–º–ø–æ–∑–∞–±–ª—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–¥–µ–ª–∫–∞–º–∏
- **useDeals.ts** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–¥–µ–ª–∫–∞–º–∏
- **useDealForm.ts** - –õ–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–¥–µ–ª–æ–∫
- **useDealActions.ts** - –î–µ–π—Å—Ç–≤–∏—è —Å–æ —Å–¥–µ–ª–∫–∞–º–∏ (–ø—Ä–∏–Ω—è—Ç–∏–µ, –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
- **useDealStatus.ts** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Å–¥–µ–ª–æ–∫

### `/types/` - –¢–∏–ø—ã —Å–¥–µ–ª–æ–∫
- **deal.ts** - –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã —Å–¥–µ–ª–æ–∫
- **status.ts** - –¢–∏–ø—ã —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–¥–µ–ª–æ–∫
- **forms.ts** - –¢–∏–ø—ã –¥–ª—è —Ñ–æ—Ä–º —Å–¥–µ–ª–æ–∫

### `/utils/` - –£—Ç–∏–ª–∏—Ç—ã —Å–¥–µ–ª–æ–∫
- **deal-helpers.ts** - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **deal-validation.ts** - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–¥–µ–ª–æ–∫

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å–¥–µ–ª–æ–∫
```typescript
import { useDeals } from '@/features/deals/composables/useDeals'

const { deals, loading, loadDeals } = useDeals()
await loadDeals()
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏
```typescript
import { useDealForm } from '@/features/deals/composables/useDealForm'

const { form, submitCreate } = useDealForm()
await submitCreate(adId, buyerId)
```

### 3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–¥–µ–ª–∫–∏
```typescript
import { useDealActions } from '@/features/deals/composables/useDealActions'

const { acceptDeal, rejectDeal, completeDeal } = useDealActions()
await acceptDeal(dealId)
```

## üìã –°—Ç–∞—Ç—É—Å—ã —Å–¥–µ–ª–æ–∫

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏:
1. **pending** - –í –æ–∂–∏–¥–∞–Ω–∏–∏ (–Ω–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)
2. **accepted** - –ü—Ä–∏–Ω—è—Ç–∞ –ø—Ä–æ–¥–∞–≤—Ü–æ–º
3. **rejected** - –û—Ç–∫–ª–æ–Ω–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–æ–º
4. **completed** - –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (—É—Å–ø–µ—à–Ω–æ)
5. **canceled** - –û—Ç–º–µ–Ω–µ–Ω–∞

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- **–ü–æ–∫—É–ø–∞—Ç–µ–ª—å** - –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–º–µ–Ω—è—Ç—å —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏
- **–ü—Ä–æ–¥–∞–≤–µ—Ü** - –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å/–æ—Ç–∫–ª–æ–Ω—è—Ç—å, –∑–∞–≤–µ—Ä—à–∞—Ç—å —Å–¥–µ–ª–∫–∏
- **–û–±–µ —Å—Ç–æ—Ä–æ–Ω—ã** - –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

```typescript
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∞–º–∏
GET /api/deals              // –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /api/deals/{id}         // –î–µ—Ç–∞–ª–∏ —Å–¥–µ–ª–∫–∏
POST /api/deals/{ad}        // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
PUT /api/deals/{id}/status  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
DELETE /api/deals/{id}      // –û—Ç–º–µ–Ω–∞ —Å–¥–µ–ª–∫–∏

// –î–æ–∫—É–º–µ–Ω—Ç—ã —Å–¥–µ–ª–∫–∏
GET /api/deals/{id}/documents
POST /api/deals/{id}/documents
DELETE /api/deals/{id}/documents/{documentId}
```

## üìà –ë–ª–æ–∫—á–µ–π–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–°–¥–µ–ª–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ã –≤ –±–ª–æ–∫—á–µ–π–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏:

```typescript
import { useDealBlockchain } from '@/features/deals/composables/useDealBlockchain'

const { sendToBlockchain, getBlockchainStatus } = useDealBlockchain()
await sendToBlockchain(dealId)
```
